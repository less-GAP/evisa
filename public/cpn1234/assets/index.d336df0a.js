import{r as N,a as $,b as n,o as _,c as A,w as a,d as e,e as m,m as B,A as p,f as b,_ as L,F as V,g as E,u as O,n as j,j as H,p as c,t as C,l as g,$ as T}from"./index.71ade653.js";import{D as M}from"./DataTable.4d2c79e1.js";const R={__name:"FormUser",props:{value:Object},emits:["success","cancel"],setup(y,{emit:o}){const f=y,u={required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},t=N(!1),s=$(f.value||{isNew:!0,full_name:"",username:"",email:"",role:"user",password:""}),l=$({validateTrigger:"submit","label-align":"top",model:s,labelCol:{span:24},wrapperCol:{span:24},"validate-messages":u}),v=async function(){t.value=!0;const w=await p.post("user",s.value);o("success",w.data)},U=function(){o("cancel")};return(w,i)=>{const h=n("a-input"),d=n("a-form-item"),k=n("a-radio"),S=n("a-radio-group"),q=n("LockOutlined"),D=n("a-input-password"),x=n("a-button"),F=n("a-space"),P=n("a-form");return _(),A(P,B(l,{onFinish:v}),{default:a(()=>[e(d,{name:"full_name",label:"Full Name",rules:[{required:!0}]},{default:a(()=>[e(h,{value:s.full_name,"onUpdate:value":i[0]||(i[0]=r=>s.full_name=r)},null,8,["value"])]),_:1}),e(d,{name:"email",label:"Email",rules:[{type:"email",required:!0}]},{default:a(()=>[e(h,{value:s.email,"onUpdate:value":i[1]||(i[1]=r=>s.email=r)},null,8,["value"])]),_:1}),e(d,{label:"Role",name:"role"},{default:a(()=>[e(S,{value:s.role,"onUpdate:value":i[2]||(i[2]=r=>s.role=r)},{default:a(()=>[e(k,{value:"user",name:"type"},{default:a(()=>[m("User")]),_:1}),e(k,{value:"admin",name:"type"},{default:a(()=>[m("Admin")]),_:1})]),_:1},8,["value"])]),_:1}),e(d,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},{default:a(()=>[e(D,{value:s.password,"onUpdate:value":i[3]||(i[3]=r=>s.password=r)},{prefix:a(()=>[e(q,{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1}),e(d,null,{default:a(()=>[e(F,null,{default:a(()=>[e(x,{loading:t.value,type:"primary","html-type":"submit"},{default:a(()=>[m("Submit")]),_:1},8,["loading"]),e(x,{onClick:U,"html-type":"button"},{default:a(()=>[m("Cancel")]),_:1})]),_:1})]),_:1})]),_:1},16)}}},z=["src","alt"],G={class:"pl-3 float-left"},I={class:"text-base font-semibold"},J={class:"font-normal text-gray-500"},K={key:0,class:"flex items-center"},Q=c("div",{class:"h-2.5 w-2.5 rounded-full bg-red-500 mr-2"},null,-1),W={key:1,class:"flex items-center"},X=c("div",{class:"h-2.5 w-2.5 rounded-full bg-green-500 mr-2"},null,-1),ee={__name:"index",setup(y){const o=N({visible:!1,value:null,success:()=>{},cancel:()=>{}}),f={api:u=>p.get("customer/list",{params:u}),itemActions:[],columns:[{title:"Nh\xF3m kh\xE1ch h\xE0ng",key:"customer_group_name"},{title:"T\xEAn",key:"name"},{title:"Email",key:"email"},{title:"\u0110i\u1EC7n tho\u1EA1i",key:"phone"},{title:"Ng\xE0y x\xE1c nh\u1EADn",key:"email_verified_at"},{title:"T\xECnh tr\u1EA1ng",key:"status"}],selectionActions:[{title:"Ho\u1EA1t \u0111\u1ED9ng",action(u){return p.post("customer/activeList",{items:u,status:"A"}).then(t=>{T[t.data.code==0?"error":"success"]({message:"Th\xF4ng b\xE1o",description:t.data.message})})}},{title:"T\u1EAFt",action(u){return p.post("customer/activeList",{items:u,status:"D"}).then(t=>{T[t.data.code==0?"error":"success"]({message:"Th\xF4ng b\xE1o",description:t.data.message})})}}]};return(u,t)=>{const s=n("a-modal");return _(),b(V,null,[e(L,null,{default:a(()=>[e(E,null,{default:a(()=>[e(O(M),j(H(f)),{"cell[full_name]":a(({item:l,column:v})=>[c("img",{class:"w-10 h-10 float-left rounded-full",src:l.profile_photo_url,alt:l.full_name},null,8,z),c("div",G,[c("div",I,C(l.full_name),1),c("div",J,C(l.email),1)])]),"cell[status]":a(({item:l,column:v})=>[l.status=="D"?(_(),b("div",K,[Q,m(" T\u1EAFt ")])):g("",!0),l.status=="A"?(_(),b("div",W,[X,m(" Ho\u1EA1t \u0111\u1ED9ng ")])):g("",!0)]),_:1},16)]),_:1})]),_:1}),e(s,{footer:null,width:"800px",open:o.value.visible,"onUpdate:open":t[2]||(t[2]=l=>o.value.visible=l)},{default:a(()=>[o.value.visible?(_(),A(R,{key:0,onSuccess:t[0]||(t[0]=l=>{u.isShowModal=!1,o.value.reload()}),onCancel:t[1]||(t[1]=l=>o.value.visible=!1),value:o.value.value},null,8,["value"])):g("",!0)]),_:1},8,["open"])],64)}}};export{ee as default};
