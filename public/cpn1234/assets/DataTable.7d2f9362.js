import{R as X,p as m,G as $,r as c,o as n,c as y,e as z,a as d,w as l,v as p,L as Z,z as f,x,u as R,V as q,F as B,W as K,d as h,t as A,X as J,n as N,g as O,y as Q,Z as Y,H as ee,C as te,D as ae}from"./index.e9f28c59.js";import"./InputUpload.vue_vue_type_script_lang.0f5c8a09.js";const V=a=>(te("data-v-67241d6b"),a=a(),ae(),a),ne={class:"relative text-center overflow-x-auto sm:rounded-lg"},oe=["loading"],le=V(()=>z("span",null,null,-1)),se=V(()=>z("br",null,null,-1)),ie={key:0},ue={key:1},ce={__name:"DataTable",props:{tableConfig:{type:Object,default:{}},pagination:{type:Object,default:{page:1,total:0,perPage:10}},showSizeChanger:{type:Boolean,default:!0},params:{type:Object,default:{}},columns:Array,selectionActions:{type:Array,default:[]},itemActions:{type:Array,default:[]},api:Function,addAction:Function},setup(a){const s=a,_={item_key:"id",rowSelect:!0,globalSearch:!0,...s.tableConfig},w=m({}),C=m(""),j=$(()=>{const e=s.columns.map(t=>({dataIndex:t.dataIndex?t.dataIndex:t.key,...t}));return s.itemActions.length&&e.push({title:"H\xE0nh \u0111\u1ED9ng",key:"action",width:150,dataIndex:"action"}),e});function u(){s.api&&(k.value=!0,s.api({perPage:s.pagination.perPage,page:s.pagination.page,...s.params,"filter[search]":C.value}).then(e=>{var t;w.value=e.data,s.pagination.total=(t=e.data)!=null&&t.total?e.data.total:0}).finally(()=>{F.value=!1,k.value=!1}))}const k=m(!1),F=m(!1);m([]);const v=m([]);async function T(e){const t=v.value.map(S=>S[_.item_key]);await e.action(t,v.value),e.complete&&e.complete(),v.value=[],u()}const U=$(()=>!s.selectionActions||!s.selectionActions.length?!1:{onChange:(e,t)=>{console.log(`selectedRowKeys: ${e}`,"selectedRows: ",t)},getCheckboxProps:e=>({disabled:e.name==="Disabled User",name:e.name})});return u(),(e,t)=>{var D,I;const S=c("a-input"),P=c("a-space"),b=c("a-button"),H=c("a-menu-item"),E=c("a-menu"),L=c("a-dropdown"),G=c("a-table"),M=c("a-empty"),W=c("a-pagination");return n(),y("div",ne,[z("div",{loading:k.value,class:"flex items-center justify-between bg-white dark:bg-gray-800"},[d(P,null,{default:l(()=>[_.globalSearch?(n(),p(S,{key:0,"allow-clear":"",onSearch:u,onKeyup:Z(u,["enter"]),style:{"max-width":"300px"},value:C.value,"onUpdate:value":t[0]||(t[0]=o=>C.value=o),placeholder:"Enter to search...",loading:k.value},null,8,["onKeyup","value","loading"])):f("",!0),x(e.$slots,"filter",{},void 0,!0)]),_:3}),le,d(P,null,{default:l(()=>[d(b,null,{icon:l(()=>[d(R(q),{onClick:u})]),_:1}),a.selectionActions.length>0?(n(),p(L,{key:0,disabled:!v.value.length},{overlay:l(()=>[d(E,null,{default:l(()=>[(n(!0),y(B,null,K(a.selectionActions,(o,i)=>(n(),p(H,{onClick:r=>T(o),key:i},{default:l(()=>[h(A(o.title),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:l(()=>[d(b,null,{default:l(()=>[h(" H\xE0nh \u0111\u1ED9ng "),d(R(J))]),_:1})]),_:1},8,["disabled"])):f("",!0),a.addAction?(n(),p(b,{key:1,type:"primary",onClick:t[1]||(t[1]=()=>{a.addAction(u)})},{default:l(()=>[h("Th\xEAm m\u1EDBi")]),_:1})):f("",!0)]),_:1})],8,oe),(D=w.value.data)!=null&&D.length?(n(),p(G,Y({key:0},_,{"row-selection":U.value,class:"mt-12",pagination:!1,"data-source":w.value.data,columns:j.value}),{bodyCell:l(({text:o,record:i,column:r})=>[x(e.$slots,"cell["+r.key+"]",N(O({item:i,column:r,index:e.index})),()=>[h(A(e.$style.format[r.key]?e.$style.format[r.key](i[r.key]):i[r.key]),1)],!0),r.key=="action"?(n(!0),y(B,{key:0},K(a.itemActions,g=>x(e.$slots,"cellAction["+g.key+"]",N(O({item:i,itemAction:g,actionMethod(){g.action(i,u)}})),()=>[d(b,{onClick:re=>g.action(i,u),class:Q(g.class||"font-medium text-blue-600 dark:text-blue-500 hover:underline"),type:"link"},{default:l(()=>[h(A(g.label),1)]),_:2},1032,["onClick","class"])],!0)),256)):f("",!0)]),_:3},16,["row-selection","data-source","columns"])):(n(),p(M,{key:1})),se,(I=a.pagination)!=null&&I.total?(n(),p(W,{key:2,showSizeChanger:a.showSizeChanger,onChange:u,current:a.pagination.page,"onUpdate:current":t[2]||(t[2]=o=>a.pagination.page=o),pageSize:a.pagination.perPage,"onUpdate:pageSize":t[3]||(t[3]=o=>a.pagination.perPage=o),total:a.pagination.total},{itemRender:l(({type:o,originalElement:i})=>[o==="prev"?(n(),y("a",ie,"Previous")):o==="next"?(n(),y("a",ue,"Next")):(n(),p(ee(i),{key:2}))]),_:1},8,["showSizeChanger","current","pageSize","total"])):f("",!0)])}}},ge=X(ce,[["__scopeId","data-v-67241d6b"]]);export{ge as D};
