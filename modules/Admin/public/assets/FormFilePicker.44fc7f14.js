import{o as n,c as V,af as B,J as m,a3 as E,r as y,ag as F,ah as I,f as i,U as b,ai as $,C as h,F as q,W as C,t as w,aj as U,ad as z,l as R,ak as M,al as j,p as x,d as D,a5 as N}from"./index.f41d8c9d.js";const A={__name:"FormControlIcon",props:{icon:{type:String,default:null},h:{type:String,default:null}},setup(e){return(d,l)=>(n(),V(B,{path:e.icon,w:"w-10",h:e.h,class:"absolute top-0 left-0 z-10 pointer-events-none text-gray-500 dark:text-slate-400"},null,8,["path","h"]))}},K={class:"relative"},L=["id","name"],T=["value"],H=["id","name","maxlength","placeholder","required"],O=["id","name","maxlength","inputmode","autocomplete","required","placeholder","type"],Y={__name:"FormControl",props:{name:{type:String,default:null},id:{type:String,default:null},autocomplete:{type:String,default:null},maxlength:{type:String,default:null},placeholder:{type:String,default:null},inputmode:{type:String,default:null},icon:{type:String,default:null},options:{type:Array,default:null},type:{type:String,default:"text"},modelValue:{type:[String,Number,Boolean,Array,Object],default:""},required:Boolean,borderless:Boolean,transparent:Boolean,ctrlKFocus:Boolean},emits:["update:modelValue","setRef"],setup(e,{emit:d}){const l=e,o=m({get:()=>l.modelValue,set:r=>{d("update:modelValue",r)}}),u=m(()=>{const r=["px-3 py-2 max-w-full focus:ring focus:outline-none border-gray-700 rounded w-full","dark:placeholder-gray-400",c.value==="textarea"?"h-24":"h-12",l.borderless?"border-0":"border",l.transparent?"bg-transparent":"bg-white dark:bg-slate-800"];return l.icon&&r.push("pl-10"),r}),c=m(()=>l.options?"select":l.type),g=m(()=>l.type==="textarea"?"h-full":"h-12"),f=E(),s=y(null),p=y(null),v=y(null);if(F(()=>{s.value?d("setRef",s.value):p.value?d("setRef",p.value):d("setRef",v.value)}),l.ctrlKFocus){const r=t=>{t.ctrlKey&&t.key==="k"?(t.preventDefault(),v.value.focus()):t.key==="Escape"&&v.value.blur()};F(()=>{f.isFieldFocusRegistered||(window.addEventListener("keydown",r),f.isFieldFocusRegistered=!0)}),I(()=>{window.removeEventListener("keydown",r),f.isFieldFocusRegistered=!1})}return(r,t)=>(n(),i("div",K,[c.value==="select"?b((n(),i("select",{key:0,id:e.id,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value=a),name:e.name,class:h(u.value)},[(n(!0),i(q,null,C(e.options,a=>{var k,S;return n(),i("option",{key:(k=a.id)!=null?k:a,value:a},w((S=a.label)!=null?S:a),9,T)}),128))],10,L)),[[$,o.value]]):c.value==="textarea"?b((n(),i("textarea",{key:1,id:e.id,"onUpdate:modelValue":t[1]||(t[1]=a=>o.value=a),class:h(u.value),name:e.name,maxlength:e.maxlength,placeholder:e.placeholder,required:e.required},null,10,H)),[[U,o.value]]):b((n(),i("input",{key:2,id:e.id,ref_key:"inputEl",ref:v,"onUpdate:modelValue":t[2]||(t[2]=a=>o.value=a),name:e.name,maxlength:e.maxlength,inputmode:e.inputmode,autocomplete:e.autocomplete,required:e.required,placeholder:e.placeholder,type:c.value,class:h(u.value)},null,10,O)),[[z,o.value]]),e.icon?(n(),V(A,{key:3,icon:e.icon,h:g.value},null,8,["icon","h"])):R("",!0)]))}},P={class:"flex items-stretch justify-start relative"},J={class:"inline-flex"},W=["accept"],G={key:0,class:"px-4 py-2 bg-gray-100 dark:bg-slate-800 border-gray-200 dark:border-slate-700 border rounded-r"},Q={class:"text-ellipsis line-clamp-1"},Z={__name:"FormFilePicker",props:{modelValue:{type:[Object,File,Array],default:null},label:{type:String,default:null},icon:{type:String,default:M},accept:{type:String,default:null},color:{type:String,default:"info"},isRoundIcon:Boolean},emits:["update:modelValue"],setup(e,{emit:d}){const l=e,o=y(null),u=y(l.modelValue),c=m(()=>!l.isRoundIcon&&u.value),g=m(()=>l.modelValue);j(g,s=>{u.value=s,s||(o.value.input.value=null)});const f=s=>{const p=s.target.files||s.dataTransfer.files;u.value=p[0],d("update:modelValue",u.value)};return(s,p)=>(n(),i("div",P,[x("label",J,[D(N,{as:"a",class:h({"w-12 h-12":e.isRoundIcon,"rounded-r-none":c.value}),"icon-size":e.isRoundIcon?24:void 0,label:e.isRoundIcon?null:e.label,icon:e.icon,color:e.color,"rounded-full":e.isRoundIcon},null,8,["class","icon-size","label","icon","color","rounded-full"]),x("input",{ref_key:"root",ref:o,type:"file",class:"absolute top-0 left-0 w-full h-full opacity-0 outline-none cursor-pointer -z-1",accept:e.accept,onInput:f},null,40,W)]),c.value?(n(),i("div",G,[x("span",Q,w(u.value.name),1)])):R("",!0)]))}};export{Z as _,Y as a};
